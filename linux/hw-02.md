# Часть 1
1) Создать пользователя devops с домашней директорией и комментарием "DevOps Engineer"; установить пароль qwerty123 для пользователя devops
2) Создать группу docker и добавить в неё пользователя devops
3) Проверить принадлежность пользователя devops к группе docker
4) Установить zsh (https://github.com/ohmyzsh/ohmyzsh/wiki/Installing-ZSH)
5) Изменить основной shell для devops на `/bin/zsh`
6) Создать директорию `/opt/srv/backups` с владельцем `devops:docker` и правами `770`
7) Создать директорию `/opt/srv/nginx`, установить владельца `root:www-data` и права `750`
8) Создать файлы
- `/opt/srv/nginx/nginx.conf`
- `/opt/srv/nginx/mime.types`
- `/opt/srv/nginx/backend.conf`
9) Рекурсивно изменить владельца всех файлов в `/opt/srv/nginx` на `www-data:devops` и права на `644`
10) Изменить UID пользователя `devops` на `1500`
11) Создать пользователя `gitlab-runner` с системным UID (без домашней директории)

# Часть 2
0) Изучить механизм sudoers в Linux
1) Создать пользователя jenkins; задать пароль для только что созданного пользователя
2) Создать пользователя logger и сразу создать для него домашнюю директорию /var/logger
3) Создать пользователя gitlab-runner
4) Создать группу deployers, добавить в нее пользователей jenkins и gitlab-runner
5) Дать возможность группе deployers выполнять команды `docker run, docker stop, docker start, docker rm, docker ps` без пароля
6) Сменить владельца файла `/var/log/ecom_web.log` на logger
7) Сменить группу-владельца файла `/var/log/ecom_web.log` на deployers
8) Создать файл `gen_go_project.sh`
```bash
#!/bin/bash

PROJECT=$1
if [ -z "$PROJECT" ]; then
  echo "Usage: $0 <project-name>"
  exit 1
fi
mkdir -p $PROJECT/{cmd/$PROJECT,internal,pkg}
cd $PROJECT
echo "# $PROJECT" > README.md
echo -e "bin/\n*.exe\n*.log\nvendor/" > .gitignore

cat <<EOF > cmd/$PROJECT/main.go
package main

import "fmt"

func main() {
    fmt.Println("Hello, $PROJECT!")
}
EOF

echo "Project files generated successfully."
```
9) Сделать файл `gen_go_project.sh` исполняемым
10) Выполнить `bash gen_go_project.sh ecommerce`
11) Посмотреть, создалась ли рядом с скриптом директория `ecommerce`; вывести ее содержимое в виде дерева

<img width="454" height="207" alt="tree" src="https://github.com/user-attachments/assets/d751fc5f-d504-4a82-b20d-4c742ddb07b8" />

12) Изменить владельца и группу для всей директории `ecommerce` на `root:deployers`
13) Для директории `ecommerce` и всех файлов внутри установить права 774
14) Посмотреть UID, GID и группы пользователя jenkins
15) Создать системного пользователя service_account без создания домашней директории

# Часть 3
### Изучить ACL в Linux
0) Удалить всех пользователей и группы из предыдущей домашки (тех что были созданы самостоятельно командами `groupadd` и `adduser/useradd`)
1) Создать пользователей
- zabbix (без возможности интерактивного входа)
- node-exporter
- ansible
- tfuser
- appmonitor
2) Создать группы
- monitroing
- infra
3) Добавить в группу monitroing пользователей zabbix, node-exporter, appmonitor; в группу infra - ansible и tfuser
4) Создать директорию `/shared-dir` с правами доступа `775`, где владельцем является `root`, а групой-владельцем - `infra`
5) Настроить sudo для группы infra так, чтобы она могла выполнять без пароля команды
```bash
systemctl status nginx
systemctl stop nginx
systemctl start nginx
```
6) Настроить sudo для пользователя ansible так, чтобы он мог выполнять все команды без пароля
7) Для пользователя tfuser установить постоянный umask 002
8) Создать директорию `/opt/terraform` и дать права на запись в нее только tfuser
9) Создать директорию `/var/log/app` и назначить владельцем и группой-владельцем appmonitor
10) Разрешить пользователю node-exporter читать системные метрики (это права на чтение директорий `/proc` и `/sys`)
11) Разрешить пользователю zabbix читать логи из `/var/log/app`, но не изменять их (не меняя владельца/группу)
12) Удалить директорию `/opt/terraform`; создать директории `/opt/infrastructure/ansible` и `/opt/infrastructure/terraform`
13) Настроить права на `/opt/infrastructure/ansible` так, чтобы
- ansible имел полные права
- tfuser имел права на чтение и выполнение
14) Настроить права на `/opt/infrastructure/terraform` так, чтобы
- tfuser имел полные права
- ansible имел права на чтение и выполнение
